{"mappings":"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","sources":["src/js/body-scroll-lock.js","src/js/modals.js"],"sourcesContent":["!(function (e, o) {\n  if ('function' == typeof define && define.amd) define(['exports'], o);\n  else if ('undefined' != typeof exports) o(exports);\n  else {\n    var t = {};\n    o(t), (e.bodyScrollLock = t);\n  }\n})(this, function (exports) {\n  'use strict';\n  Object.defineProperty(exports, '__esModule', {\n    value: !0,\n  });\n  var t = !1;\n  if ('undefined' != typeof window) {\n    var e = {\n      get passive() {\n        t = !0;\n      },\n    };\n    window.addEventListener('testPassive', null, e),\n      window.removeEventListener('testPassive', null, e);\n  }\n  function l(o) {\n    return c.some(function (e) {\n      return !(!e.options.allowTouchMove || !e.options.allowTouchMove(o));\n    });\n  }\n  function d(e) {\n    var o = e || window.event;\n    return (\n      !!l(o.target) ||\n      1 < o.touches.length ||\n      (o.preventDefault && o.preventDefault(), !1)\n    );\n  }\n  function n() {\n    void 0 !== v && ((document.body.style.paddingRight = v), (v = void 0)),\n      void 0 !== s && ((document.body.style.overflow = s), (s = void 0));\n  }\n  var i =\n      'undefined' != typeof window &&\n      window.navigator &&\n      window.navigator.platform &&\n      (/iP(ad|hone|od)/.test(window.navigator.platform) ||\n        ('MacIntel' === window.navigator.platform &&\n          1 < window.navigator.maxTouchPoints)),\n    c = [],\n    a = !1,\n    u = -1,\n    s = void 0,\n    v = void 0;\n  (exports.disableBodyScroll = function (r, e) {\n    if (r) {\n      if (\n        !c.some(function (e) {\n          return e.targetElement === r;\n        })\n      ) {\n        var o = {\n          targetElement: r,\n          options: e || {},\n        };\n        (c = [].concat(\n          (function (e) {\n            if (Array.isArray(e)) {\n              for (var o = 0, t = Array(e.length); o < e.length; o++)\n                t[o] = e[o];\n              return t;\n            }\n            return Array.from(e);\n          })(c),\n          [o]\n        )),\n          i\n            ? ((r.ontouchstart = function (e) {\n                1 === e.targetTouches.length &&\n                  (u = e.targetTouches[0].clientY);\n              }),\n              (r.ontouchmove = function (e) {\n                var o, t, n, i;\n                1 === e.targetTouches.length &&\n                  ((t = r),\n                  (i = (o = e).targetTouches[0].clientY - u),\n                  l(o.target) ||\n                    ((t && 0 === t.scrollTop && 0 < i) ||\n                    ((n = t) &&\n                      n.scrollHeight - n.scrollTop <= n.clientHeight &&\n                      i < 0)\n                      ? d(o)\n                      : o.stopPropagation()));\n              }),\n              a ||\n                (document.addEventListener(\n                  'touchmove',\n                  d,\n                  t\n                    ? {\n                        passive: !1,\n                      }\n                    : void 0\n                ),\n                (a = !0)))\n            : (function (e) {\n                if (void 0 === v) {\n                  var o = !!e && !0 === e.reserveScrollBarGap,\n                    t =\n                      window.innerWidth - document.documentElement.clientWidth;\n                  o &&\n                    0 < t &&\n                    ((v = document.body.style.paddingRight),\n                    (document.body.style.paddingRight = t + 'px'));\n                }\n                void 0 === s &&\n                  ((s = document.body.style.overflow),\n                  (document.body.style.overflow = 'hidden'));\n              })(e);\n      }\n    } else\n      console.error(\n        'disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.'\n      );\n  }),\n    (exports.clearAllBodyScrollLocks = function () {\n      i\n        ? (c.forEach(function (e) {\n            (e.targetElement.ontouchstart = null),\n              (e.targetElement.ontouchmove = null);\n          }),\n          a &&\n            (document.removeEventListener(\n              'touchmove',\n              d,\n              t\n                ? {\n                    passive: !1,\n                  }\n                : void 0\n            ),\n            (a = !1)),\n          (u = -1))\n        : n(),\n        (c = []);\n    }),\n    (exports.enableBodyScroll = function (o) {\n      o\n        ? ((c = c.filter(function (e) {\n            return e.targetElement !== o;\n          })),\n          i\n            ? ((o.ontouchstart = null),\n              (o.ontouchmove = null),\n              a &&\n                0 === c.length &&\n                (document.removeEventListener(\n                  'touchmove',\n                  d,\n                  t\n                    ? {\n                        passive: !1,\n                      }\n                    : void 0\n                ),\n                (a = !1)))\n            : c.length || n())\n        : console.error(\n            'enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.'\n          );\n    });\n});\n","const bodyScrollLock = require('./body-scroll-lock');\n\n!(function (e) {\n  'function' != typeof e.matches &&\n    (e.matches =\n      e.msMatchesSelector ||\n      e.mozMatchesSelector ||\n      e.webkitMatchesSelector ||\n      function (e) {\n        for (\n          var t = this,\n            o = (t.document || t.ownerDocument).querySelectorAll(e),\n            n = 0;\n          o[n] && o[n] !== t;\n\n        )\n          ++n;\n        return Boolean(o[n]);\n      }),\n    'function' != typeof e.closest &&\n      (e.closest = function (e) {\n        for (var t = this; t && 1 === t.nodeType; ) {\n          if (t.matches(e)) return t;\n          t = t.parentNode;\n        }\n        return null;\n      });\n})(window.Element.prototype);\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  /* Записываем в переменные массив элементов-кнопок и подложку.\n      Подложке зададим id, чтобы не влиять на другие элементы с классом overlay*/\n  var modalButtons = document.querySelectorAll('.js-open-modal'),\n    overlay = document.querySelector('.js-overlay-modal'),\n    closeButtons = document.querySelectorAll('.js-modal-close');\n  const targetElement = document.body;\n\n  /* Перебираем массив кнопок */\n  modalButtons.forEach(function (item) {\n    /* Назначаем каждой кнопке обработчик клика */\n    item.addEventListener('click', function (e) {\n      /* Предотвращаем стандартное действие элемента. Так как кнопку разные\n            люди могут сделать по-разному. Кто-то сделает ссылку, кто-то кнопку.\n            Нужно подстраховаться. */\n      e.preventDefault();\n\n      /* При каждом клике на кнопку мы будем забирать содержимое атрибута data-modal\n            и будем искать модальное окно с таким же атрибутом. */\n      var modalId = this.getAttribute('data-modal'),\n        modalElem = document.querySelector(\n          '.modal[data-modal=\"' + modalId + '\"]'\n        );\n\n      /* После того как нашли нужное модальное окно, добавим классы\n            подложке и окну чтобы показать их. */\n      modalElem.classList.add('active');\n      overlay.classList.add('active');\n      bodyScrollLock.disableBodyScroll(targetElement);\n      // document.body.classList.remove('preload');\n    }); // end click\n  }); // end foreach\n\n  closeButtons.forEach(function (item) {\n    item.addEventListener('click', function (e) {\n      var parentModal = this.closest('.modal');\n\n      parentModal.classList.remove('active');\n      overlay.classList.remove('active');\n      bodyScrollLock.enableBodyScroll(targetElement);\n    });\n  }); // end foreach\n\n  document.body.addEventListener(\n    'keyup',\n    function (e) {\n      var key = e.keyCode;\n\n      if (key == 27) {\n        document.querySelector('.modal.active').classList.remove('active');\n        document.querySelector('.overlay').classList.remove('active');\n        bodyScrollLock.enableBodyScroll(targetElement);\n      }\n    },\n    false\n  );\n\n  overlay.addEventListener('click', function () {\n    document.querySelector('.modal.active').classList.remove('active');\n    this.classList.remove('active');\n  });\n}); // end ready\n"],"names":["o","e1","exports","Object","defineProperty","value","t1","window","e","passive","addEventListener","removeEventListener","l","c","some","options","allowTouchMove","d","event","target","touches","length","preventDefault","n1","v","document","body","style","paddingRight","s","overflow","i1","navigator","platform","test","maxTouchPoints","a","u","disableBodyScroll","r","targetElement","o1","concat","Array","isArray","t","from","ontouchstart","targetTouches","clientY","ontouchmove","n","i","scrollTop","scrollHeight","clientHeight","stopPropagation","reserveScrollBarGap","innerWidth","documentElement","clientWidth","console","error","clearAllBodyScrollLocks","forEach","enableBodyScroll","filter","define","amd","$13bf22cedc62b4bd$exports","Element","prototype","matches","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","this","ownerDocument","querySelectorAll","Boolean","closest","nodeType","parentNode","overlay","querySelector","closeButtons","modalButtons","item","modalId","classList","add","remove","keyCode"],"version":3,"file":"index.840993dd.js.map"}